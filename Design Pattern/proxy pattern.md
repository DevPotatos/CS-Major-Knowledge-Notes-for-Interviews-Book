# 프록시 패턴과 프록시 서버

> 프록시 패턴(proxy pattern)은 대상 객체에 접근하기 전 그 접근에 대한 흐름을 가로채 대상 객체 앞단의 인터페이스 역할을 하는 디자인 패턴이다.
>
> <img src="https://hyungju-lee.github.io/hyungju-lee2022.github.io/static/59069166f1301ed60617b96ffde714ab/21cee/img11.webp" alt="img11" style="zoom:50%;" />



## 프록시 패턴(Proxy Pattern)

### 프록시 패턴 구조

<img src="https://blog.kakaocdn.net/dn/bcbxcn/btrUM5tMJsQ/WyKEmTSrt4BCbSddFdyJCK/img.png" alt="img" style="zoom:50%;" />

- 대상 객체의 메소드를 프록시 객체를 통해 대신 처리하는 것



### 프록시 객체

> 프록시 객체는 어떠한 대상의 기본적인 동작(속성 접근, 할당, 순회, 열거, 함수 호출 등)의 작업을 가로챌 수 있는 객체를 의미한다.
>
> => 프록시 = 다른 객체에 대한 접근을 제어하는 개체

- 대상 객체와 같은 이름의 메서드를 호출하며 별도의 로직을 수행할 수 있음
- 흐름제어만 할 뿐 결과값을 조작하거나 변경시키면 안됨



### 프록시 패턴의 활용

1. 가상 프록시
   - 객체 생성을 필요한 시점까지 지연시켜 메모리의 낭비를 줄여줌
2. 보호 프록시
   - 특정 클라이언트만 접근할 수 있도록 액세스 제어

3. 원격 프록시
   - 원격 객체에 대한 접근을 마치 로컬 객체를 통해서 접근하는 것처럼 할 수 있음

4. 로깅 프록시
   - 실제 객체의 요청 이력을 프록시 객체를 통해 로그를 남길 수 있음

5. 캐싱 프록시
   - 요청에 대한 결과를 캐싱하고 캐시의 라이프 사이클 관리 가능



### 장점

- 기존의 기능을 수행하며 그 외 부가적인 작업(로깅, 인증, 네트워크 통신 등)을 수행하는데 유용



### 단점

- 많은 프록시 클래스를 도입해야 하므로 코드의 복잡성 증가
- 프록시 클래스 자체에 들어가는 자원이 많을 경우, 서비스로부터의 응답이 늦어질 수 있음



## 프록시 서버(Proxy Server)

> 프록시 서버는 내부 네트워크에서 인터넷 접속을 할 때, 빠른 액세스나 안전한 통신 등을 확보하기 위한 중계 서버이다.
>
> + 프록시 서버는 서버와 클라이언트 사이에서 클라이언트가 자신을 통해 다른 네트워크 서비스에 간접적으로 접속할 수 있게 해주는 컴퓨터 시스템이나 응용 프로그램을 가리킵니다.



### 프록시 서버에서의 캐싱

- 캐시 안에 정보를 담아두고 캐시 내 정보 요청에 대해 원격 서버에 요청하지 않고 캐시 내 데이터를 활용하는 것

  => 트래픽을 줄일 수 있음

### nignx

> nignx는 비동기 이벤트 기반의 구조와 다수의 연결을 효과적으로 처리 가능한 웹 서버이다.

- Node.js 서버 앞단의 프록시 서버로 활용됨

  => 익명 사용자의 직접적인 서버로의 접근을 차단함으로써 **보안성 강화**



### CloudFlare

> CloudFlare는 전 세계적으로 분산된 서버가 있고 이를 통해 어떠한 시스템의 콘텐츠를 빠르게 할 수 있는 CDN 서비스

- 웹 서버 앞단에 두어 프록시 서버로 사용

  => **DDOS 공격 방어, HTTPS 구축**의 이점 존재



---

### References

https://engineer-mole.tistory.com/288

https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%ED%94%84%EB%A1%9D%EC%8B%9CProxy-%ED%8C%A8%ED%84%B4-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EB%B0%B0%EC%9B%8C%EB%B3%B4%EC%9E%90#%ED%94%84%EB%A1%9D%EC%8B%9C_%ED%8C%A8%ED%84%B4_%EA%B5%AC%EC%A1%B0

https://velog.io/@pjh612/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4-%ED%94%84%EB%A1%9D%EC%8B%9C-%ED%8C%A8%ED%84%B4Proxy-Pattern